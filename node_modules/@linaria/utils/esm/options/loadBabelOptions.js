import * as babel from '@babel/core';
const cache = new WeakMap();
const empty = {};
export default function loadBabelOptions(filename, overrides = empty) {
  const fileCache = cache.get(overrides) ?? new Map();

  if (fileCache.has(filename)) {
    return fileCache.get(filename);
  }

  const babelOptions = babel.loadOptions({ ...overrides,
    filename,
    caller: {
      name: 'linaria'
    }
  }) ?? {};
  fileCache.set(filename, babelOptions);
  cache.set(overrides, fileCache);
  return babelOptions;
}
//# sourceMappingURL=loadBabelOptions.js.map