{"version":3,"file":"css.js","names":["TaggedTemplateProcessor","CssProcessor","addInterpolation","node","source","Error","doEvaltimeReplacement","replacer","value","doRuntimeReplacement","astService","stringLiteral","className","extractRules","valueCache","cssText","loc","rules","selector","displayName","start","asSelector"],"sources":["../../src/processors/css.ts"],"sourcesContent":["import type { SourceLocation, StringLiteral } from '@babel/types';\n\nimport type { Rules, ValueCache } from '@linaria/tags';\nimport { TaggedTemplateProcessor } from '@linaria/tags';\n\nexport default class CssProcessor extends TaggedTemplateProcessor {\n  // eslint-disable-next-line class-methods-use-this\n  public override addInterpolation(node: unknown, source: string): string {\n    throw new Error(\n      `css tag cannot handle '${source}' as an interpolated value`\n    );\n  }\n\n  public override doEvaltimeReplacement(): void {\n    this.replacer(this.value, false);\n  }\n\n  public override doRuntimeReplacement(): void {\n    this.replacer(this.astService.stringLiteral(this.className), false);\n  }\n\n  public override extractRules(\n    valueCache: ValueCache,\n    cssText: string,\n    loc?: SourceLocation | null\n  ): Rules {\n    const rules: Rules = {};\n\n    const selector = `.${this.className}`;\n\n    rules[selector] = {\n      cssText,\n      className: this.className,\n      displayName: this.displayName,\n      start: loc?.start ?? null,\n    };\n\n    return rules;\n  }\n\n  public override get asSelector(): string {\n    return this.className;\n  }\n\n  public override get value(): StringLiteral {\n    return this.astService.stringLiteral(this.className);\n  }\n}\n"],"mappings":"AAGA,SAASA,uBAAT,QAAwC,eAAxC;AAEA,eAAe,MAAMC,YAAN,SAA2BD,uBAA3B,CAAmD;EAChE;EACgBE,gBAAgB,CAACC,IAAD,EAAgBC,MAAhB,EAAwC;IACtE,MAAM,IAAIC,KAAJ,CACH,0BAAyBD,MAAO,4BAD7B,CAAN;EAGD;;EAEeE,qBAAqB,GAAS;IAC5C,KAAKC,QAAL,CAAc,KAAKC,KAAnB,EAA0B,KAA1B;EACD;;EAEeC,oBAAoB,GAAS;IAC3C,KAAKF,QAAL,CAAc,KAAKG,UAAL,CAAgBC,aAAhB,CAA8B,KAAKC,SAAnC,CAAd,EAA6D,KAA7D;EACD;;EAEeC,YAAY,CAC1BC,UAD0B,EAE1BC,OAF0B,EAG1BC,GAH0B,EAInB;IACP,MAAMC,KAAY,GAAG,EAArB;IAEA,MAAMC,QAAQ,GAAI,IAAG,KAAKN,SAAU,EAApC;IAEAK,KAAK,CAACC,QAAD,CAAL,GAAkB;MAChBH,OADgB;MAEhBH,SAAS,EAAE,KAAKA,SAFA;MAGhBO,WAAW,EAAE,KAAKA,WAHF;MAIhBC,KAAK,EAAEJ,GAAG,EAAEI,KAAL,IAAc;IAJL,CAAlB;IAOA,OAAOH,KAAP;EACD;;EAE6B,IAAVI,UAAU,GAAW;IACvC,OAAO,KAAKT,SAAZ;EACD;;EAEwB,IAALJ,KAAK,GAAkB;IACzC,OAAO,KAAKE,UAAL,CAAgBC,aAAhB,CAA8B,KAAKC,SAAnC,CAAP;EACD;;AAzC+D"}